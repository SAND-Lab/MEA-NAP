<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Contributing to the project" href="how-to-contribute.html" /><link rel="prev" title="System Requirements" href="system-requirements.html" />

    <meta name="generator" content="sphinx-4.2.0, furo 2022.04.07"/>
        <title>Methods for Network Activity Analysis - MEA pipeline 0.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=68f4518137b9aefe99b631505a2064c3c42c9852" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">MEA pipeline 0.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">MEA pipeline 0.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline-steps.html">Pipeline steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="system-requirements.html">System Requirements</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Methods for Network Activity Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-to-contribute.html">Contributing to the project</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="methods-for-network-activity-analysis">
<h1>Methods for Network Activity Analysis<a class="headerlink" href="#methods-for-network-activity-analysis" title="Permalink to this headline">#</a></h1>
<section id="spike-detection">
<h2>Spike detection<a class="headerlink" href="#spike-detection" title="Permalink to this headline">#</a></h2>
<p>Microelectrode array (MEA) recordings offer the temporal resolution to identify individual action potentials from multi-unit activity detected at individual electrodes.  There are many different methods available for detecting action potentials from extracellular voltage recordings. The choice of methods and parameters need to be optimized for each data set, as type of tissue, level of activity, and level of electrical noise will affect the accuracy.  The gold standard for tuning spike detection is comparing MEA recordings from the same network before and after tetrodotoxin (TTX) administration (if your neuronal population is sensitive to action potential blockade by TTX, Figure 4.1). TTX inhibition is use-dependent, thus depending how frequently the neurons fire action potentials, it may take a few minutes before all neuronal firing stops in the presence of TTX.</p>
<section id="spike-detection-methods-in-the-pipeline">
<h3>Spike detection methods in the pipeline<a class="headerlink" href="#spike-detection-methods-in-the-pipeline" title="Permalink to this headline">#</a></h3>
<p>The pipeline offers multiple options for spike detection including template-based and threshold-based methods (Figure 4.1.1). The template-based method uses a continuous wavelet transform to identify action potentials by their waveform. In our 2D primary murine cortical cultures, the template-based method outperforms threshold-based methods in both sensitivity and specificity (Dunn et al., FENS 2020, poster). However, depending on the signal-to-noise ratio and/or the fit of the template to action potentials in a recording, the template method may not perform well on all data.  In this case we recommend using a threshold-based method. The user selects the standard deviation multiplier for detecting spikes. Minimum and maximum spike amplitudes are included to remove noise and large electrical artifacts.</p>
<p><strong>Threshold-based options</strong></p>
<p>For each electrode in an MEA recording, the mean or median standard deviation of the voltage signal is calculated.  In the threshold-based method used for this pipeline the user can set the standard deviation (SD) multiplier (e.g., 4.5, 5) as a threshold for detecting negative voltage deflections that exceed this threshold.  As the spike detection is based on the amplitude, it does not distinguish between changes in voltage that have a waveform consistent with action potentials versus electrical noise. Maximum absolute threshold values are added to avoid counting large electrical artifacts as spikes.  Minimum absolute thresholds can also be set by advanced users.</p>
<p>At a biological level, the threshold method also has a challenge when comparing activity between electrodes within a recording, or comparing recordings, where there is a low level of activity versus a very high level of activity.  If there are infrequent spikes with a low noise level, the threshold multiplier based on the standard deviation will set the threshold for spike detection at a smaller absolute amplitude for detecting spikes. If there is a high firing rate of action potentials, or dense firing within the recording sensitivity of the electrode (increasing the background variation in voltage signal), this can increase the absolute amplitude for detecting spikes for the same standard deviation multiplier. This leads to action potentials that are the same absolute amplitude as those detected as spikes in electrodes, or recordings, with lower firing rates not being detected as action potentials in the electrodes, or recordings, with higher firing rate. To address this, the pipeline saves the absolute voltage for each electrode based on the standard deviation multiplier. If a TTX recording has been performed for the same culture, the absolute voltage for the standard deviation multiplier for each electrode can be used on the pre-TTX recordings to set a threshold based on the actual amplitude (rather than the SD).</p>
<p>The pipeline also produces plots of the voltage traces with spikes detected marked with arrows from a random selection of electrodes. These plots allow one to quickly visually inspect the quality of the spike detection (Figure 4.1.1.1).  Sample waveforms from single electrodes for the different methods are also plotted in the pipeline. Plots with comparison of the number of spikes detected over time are also produced. The pipeline allows multiple threshold multipliers to be run and these plots facilitate comparison and selection of the threshold for spike detection for downstream analysis.  These plots are in the OutputData subfolder 1B_SpikeDetectionChecks organized by group and recording.</p>
<p><strong>Template-based options</strong></p>
<p>The pipeline uses a continuous wavelet transform to identify spikes based on their similarity to selected wavelets. The user can select from built-in MATLAB wavelets (e.g., bior1.5, bior1.3, db) or custom electrode-specific wavelets created by the pipeline to detect the specific spike waveform(s) in the acquired data.  The MATLAB bior1.5 wavelet had the highest sensitivity for action potentials in our 2D primary murine cortical cultures. Bior1.3 is similar and detects many of the same spikes as well as additional unique spikes.  Although the wavelet db itself does not have a spike-like waveform, it is reasonable at detecting an additional small number of spikes with a waveform consistent with action potentials.</p>
<p>For the custom electrode-specific wavelet method created for our pipeline, first the threshold method is run (e.g., SD 4.5). The waveforms of a random selection of 50 action potentials detected from an electrode are averaged to create a wavelet for that electrode. This electrode-specific custom wavelet is then used with the continuous wavelet transform to identify spikes in that electrode.  This method has the advantage of identifying spike waveforms for action potentials based on the characteristics of the neurons firing near the electrode and the specific properties of the individual electrodes that may affect the voltage reading. This can increase the sensitivity and specificity of the spike detection.  One essential assumption for this method is that there must be true action potentials detected with the threshold method in order for the wavelet to be based on action potentials and not detecting noise.  To address this, a minimum absolute amplitude is set for spikes to avoid creating a custom template for detecting noise.  Confirmation of spike detection with TTX is the gold standard.</p>
<p><strong>Multi-unit spike detection</strong></p>
<p>Microelectrode arrays detect action potentials from multiple neurons on or within a 5-10 um radius of each electrode.  The action potentials detected by the electrode from different neurons in the “multiunit” activity are likely to have different waveforms. Action potential kinetics vary due to cell-type and the distance from and orientation relative to the electrode. For example, the amplitude of action potentials from a neuron growing directly on the electrode is likely to be larger than the amplitude of a neuron growing 5 um away from the electrode.  To increase the sensitivity of spike detection for multi-unit activity, the pipeline allows the spikes detected by multiple templates to be merged.  This method identifies the peak negative amplitude for each spike and uses this to determine which spikes have been detected by multiple templates and which are unique spikes in order to avoid counting the same action potential multiple times when the spike detection is merged.  The merged method increases the sensitivity of the spike detection and accounts for the multiunit activity.</p>
</section>
<section id="future-directions-for-spike-detection-in-pipeline">
<h3>Future directions for spike detection in pipeline<a class="headerlink" href="#future-directions-for-spike-detection-in-pipeline" title="Permalink to this headline">#</a></h3>
<p>We are currently working to integrate into the pipeline a spike detection tool that can be used to validate and optimize spike detection parameters. This is particularly helpful for recordings where you have blocked activity with tetrodotoxin (TTX) or increased activity with stimulation (e.g., optogenetic) and wish to calibrate and/or compare spike detection between different recording conditions. This can be used for selecting methods and parameters for running spike detection in the pipeline.</p>
</section>
</section>
<section id="comparison-of-neuronal-activity">
<h2>Comparison of neuronal activity<a class="headerlink" href="#comparison-of-neuronal-activity" title="Permalink to this headline">#</a></h2>
<section id="firing-rates">
<h3>Firing rates<a class="headerlink" href="#firing-rates" title="Permalink to this headline">#</a></h3>
<p>One of the most common forms of analysis performed on MEA recordings from neuronal networks are estimates of the firing rate of action potentials detected at each electrode.  The pipeline facilitates these comparisons between electrodes within each recording and between recordings by age and genotype.  The figure outputs of the pipeline include heatmaps of the firing rate in the spatial organization of the electrodes as well as raster plots showing the temporal changes in firing rates (averaged in 1 second time bins) by electrodes.  In the figures the heat maps and rasters are plotted twice, the first plot is scaled to the minimum and maximum values in that recording and the plot (below or to the right) is scaled for all recordings in the batch analysis (Figure 4.2.1).  The former allows the investigator to see the variation clearly within each recording. The latter facilitates comparison of firing rates across the whole dataset.</p>
</section>
<section id="burst-detection">
<h3>Burst detection<a class="headerlink" href="#burst-detection" title="Permalink to this headline">#</a></h3>
<p>The term “burst” is used in multiple contexts within electrophysiology and within this pipeline.  Here we are concerned with two types of bursting activity in the MEA recordings.  As neurons develop in cultures, their action potential firing not only increases in frequency, but the timing of the action potentials comes in bursts.  Here burst is defined by a minimum number of action potentials occurring within a short inter-spike interval (ISI).  We do not currently have functions integrated into the pipeline for comparing bursting within individual electrodes. Instead, the pipeline currently analyzes “network bursts.” As neurons develop in culture, they not only change their pattern of firing over development, but they also fire more often when other neurons in the network are firing.  These network bursts are defined as a minimum number of action potentials occurring within a short ISI observed in a minimum number of electrodes.  Like the burst patterns observed in individual electrodes, the parameters for the network burst are chosen by the user and need to be optimized and validated to capture the temporally correlated spiking across multiple nodes in the network. There are many methods for network burst detection available.  For this pipeline, the scripts are based on the [insert] method (insert reference).</p>
<p>Metrics included in the pipeline for group comparison of network bursts include:</p>
</section>
</section>
<section id="inferring-functional-connectivity">
<h2>Inferring functional connectivity<a class="headerlink" href="#inferring-functional-connectivity" title="Permalink to this headline">#</a></h2>
<p>Where neurons form synaptic connections, the firing of action potentials by neurons near one electrode can lead to the firing of action potentials in neurons near another electrode in the MEA. Thus, by identifying spontaneous activity in pairs of electrodes that is correlated in time, we can determine whether neurons near those electrodes are likely functionally connected and the relative strength of this connectivity.</p>
<section id="spike-time-tiling-coefficient">
<h3>Spike time tiling coefficient<a class="headerlink" href="#spike-time-tiling-coefficient" title="Permalink to this headline">#</a></h3>
<p>We use the spike time tiling coefficient (STTC; Cutts &amp; Eglen, 2014) in this pipeline to calculate pairwise correlation coefficients between spike trains for all pairs of electrodes in a recording. The STTC has the advantage over other correlation methods in that it identifies action potentials that fall within short time lags reasonable for detecting synaptic activity and that it is more resistant to the effects of frequency (i.e., a higher firing rate does not determine a higher STTC). This is important for MEA data recorded from the same cultured network over development where the spike frequency increases over time.  Notably, the STTC considers only the spike times.  Thus, it has the advantage of reducing the influence of periods of quiescent and correlated noise. The latter is important due to the relatively low firing rates of neurons compared with recording sampling frequency. Conventional approaches to correlation, such as Pearson’s correlation coefficient, are thus less suitable as these periods of quiescence should not be considered correlated.</p>
<p>Furthermore, in accordance with the delay inherent in chemical-synapse-driven spiking dependency between neurons, spike trains are compared within series of short time-windows, rather than instantaneously.  Due to the relative spacing of our electrodes and the size of the neurons, we assume: (a) each spike detected is only detected at a single electrode and (b) we are sampling network activity. Thus, there are action potentials generated that we do not observe from neurons in between electrodes that are not close enough (~5-10 micrometers) to an electrode to be detected. Choice of lag (length of the time window for detecting coincidence activity, Params.FuncConLagval) will depend in part on the network metrics of interest. Shorter lags (e.g., 10-25ms) are likely to identify the most direct connections, while longer lags (e.g., 50-150ms) are likely to identify network activity where we do not observe all of the neurons in the network due to the spacing of our electrodes. The pipeline output folder (4B_GroupComparisons/LagGroup…) provides plots to evaluate how different lags for the STTC impac the network metrics by age group.</p>
</section>
<section id="probabilistic-thresholding">
<h3>Probabilistic thresholding<a class="headerlink" href="#probabilistic-thresholding" title="Permalink to this headline">#</a></h3>
<p>Determining where an edge (i.e., the functional connection between neurons near two electrodes) exists is key to all downstream network analysis. While the STTC provides an estimate of the strength of connectivity, we apply probabilistic thresholding to eliminate at-chance level correlations.  To do this, circular shifts are made in the spike trains for each electrode and the STTC is calculated for multiple iterations. A threshold is set (e.g., 95th percentile of edge values for this pair of electrodes from the set of synthetic matrices). Only the pairwise correlations that are above this threshold for each putative edge are included in the adjacency matrix.  The user has the option to set the number of iterations of circular shifts (MEApipeline.m, line 99). To check that the number of iterations for the circular shifts was sufficient, a validation step is included in the second output folder titled “Edge Threshold Check”</p>
</section>
</section>
<section id="comparison-of-network-activity">
<h2>Comparison of network activity<a class="headerlink" href="#comparison-of-network-activity" title="Permalink to this headline">#</a></h2>
<p>A graph can be defined mathematically as a set of observations (nodes) linked by connections (edges) to form a network. For spatially embedded networks, such as those found in the brain, graph theory analysis provides a means for understanding the structure and functional organization of brain networks. Network topology describes information transfer throughout the network, as well as the physical relationships between nodes.  For the MEA recordings, the nodes are the observed neuronal activity detected by individual electrodes and the edges are defined by the dependence of the observed activity between a pair of nodes.</p>
<p>Our goal with the network analysis pipeline is to understand how age and genotype impact information processing at the cellular scale.  Cellular-scale networks show similar organization, or motifs, seen across spatial scales in the brain (Schroeter et al., 2017). Using graph and other metrics from network science, we can elucidate–at the cellular scale–the topology of functional networks including estimating the impact of local and global information processing in the network, the balance of functional integration and segregation, and the roles or influence of individual nodes in the overall network activity.</p>
<section id="graph-theory-and-other-network-metrics">
<h3>Graph theory and other network metrics<a class="headerlink" href="#graph-theory-and-other-network-metrics" title="Permalink to this headline">#</a></h3>
<p>Graph theoretical approaches are commonly used at the whole brain level, and less commonly at the cellular scale, to characterise network pathology, as well as uncover systems-level changes associated with developmental processes (Bassett &amp; Bullmore, 2009). The following network features are currently included in the pipeline. Metrics which describe individual nodes (yellow) and entire network (white boxes).</p>
<div class="table-wrapper"><table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text"><strong>Basic features of the network topology</strong></span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 33%"/>
<col style="width: 67%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><figure class="align-default" id="id2">
<img alt="_images/ND.png" src="_images/ND.png"/>
<figcaption>
<p><span class="caption-text">Node degree</span><a class="headerlink" href="#id2" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</td>
<td><p>Number of connections (edges) with other nodes in the network.  Highly connected nodes may have more influence on network activity depending on their strength of connectivity and their placement in the network.</p></td>
</tr>
<tr class="row-odd"><td><figure class="align-default" id="id3">
<img alt="_images/EW.png" src="_images/EW.png"/>
<figcaption>
<p><span class="caption-text">Edge weight</span><a class="headerlink" href="#id3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</td>
<td><p>Strength of connectivity between two nodes.</p></td>
</tr>
<tr class="row-even"><td><p>Node strength</p></td>
<td><p>Sum of the edge weights for each node. N.B. In binary networks, node strength is equivalent to node degree.</p></td>
</tr>
<tr class="row-odd"><td><p>Network size</p></td>
<td><p>Number of active electrodes (where activity is defined by a minimum number or frequency of spikes detected).</p></td>
</tr>
<tr class="row-even"><td><figure class="align-default" id="id4">
<img alt="_images/Dens.png" src="_images/Dens.png"/>
<figcaption>
<p><span class="caption-text">Network density</span><a class="headerlink" href="#id4" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</td>
<td><p>Number of edges as a proportion (%) of the total possible edges that can be formed in the network.</p></td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table class="colwidths-given docutils align-default" id="id5">
<caption><span class="caption-text"><strong>Local processing in the network</strong></span><a class="headerlink" href="#id5" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 33%"/>
<col style="width: 67%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><figure class="align-default" id="id6">
<img alt="_images/CC.png" src="_images/CC.png"/>
<figcaption>
<p><span class="caption-text">Clustering coefficient</span><a class="headerlink" href="#id6" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</td>
<td><p>Probability that two nodes each directly connected to a third node will also be directly linked to each other</p></td>
</tr>
<tr class="row-odd"><td><figure class="align-default" id="id7">
<img alt="_images/nMod.png" src="_images/nMod.png"/>
<figcaption>
<p><span class="caption-text">Number of modules</span><a class="headerlink" href="#id7" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</td>
<td><p>Number of subsets of nodes into which the network can be decomposed, where nodes in each subset are more densely connected to each other than to nodes in other subsets. Calculated based on Brandes et al. (2008).</p></td>
</tr>
<tr class="row-even"><td><p>Affiliation vector</p></td>
<td><p>Vector containing number of module to which each node belongs</p></td>
</tr>
<tr class="row-odd"><td><p>Modularity score</p></td>
<td><p>A value between -0.5 and 1 that describes how well a network has been partitioned.  See Brandes et al. (2008).</p></td>
</tr>
<tr class="row-even"><td><p>Within-module degree z-score</p></td>
<td><p>Measure of how well-connected a node is to other nodes in the module. Guimerà &amp; Nunes Amaral, 2005</p></td>
</tr>
<tr class="row-odd"><td><p>Local efficiency</p></td>
<td><p>Efficiency defined at the level of individual nodes. The inverse of path length of the sub-graph generated by removing the index node and all its incident edges. See Latora &amp; Marchiori, 2001.N.B. To aid in the interpretation of this metric, it is labeled “Local connectivity” in the pipeline.</p></td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table class="colwidths-given docutils align-default" id="id8">
<caption><span class="caption-text"><strong>Global processing in the network</strong></span><a class="headerlink" href="#id8" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 33%"/>
<col style="width: 67%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Path length</p></td>
<td><p>Characteristic path length is the minimum number of edges required to link any two nodes in the network averaged across nodes</p></td>
</tr>
<tr class="row-odd"><td><p>Global efficiency</p></td>
<td><p>Efficiency of parallel information transfer between nodes in the network. Inverse of characteristic path length.  See Latora &amp; Marchiori, 2001.</p></td>
</tr>
<tr class="row-even"><td><p>Betweness centrality</p></td>
<td><p>Participation coefficient</p></td>
</tr>
<tr class="row-odd"><td><p>Small world coefficient method 1 <span class="math notranslate nohighlight">\(\sigma\)</span></p></td>
<td><p>Network topology with clusters of nodes connected to other clusters via hub nodes. This reduces path length and facilitates both local and global information processing. Calculated as clustering coefficient divided by characteristic path length.</p></td>
</tr>
<tr class="row-even"><td><p>Small-world coefficient method 2 <span class="math notranslate nohighlight">\(w\)</span></p></td>
<td><p>Network topology with clusters of nodes connected to other clusters via hub nodes that promotes both local and global information processing.  Calculated as the midpoint (0) between a lattice (-1) and random (1) network structure.</p></td>
</tr>
</tbody>
</table></div>
<div class="table-wrapper"><table class="colwidths-given docutils align-default" id="id9">
<caption><span class="caption-text"><strong>Role for individual nodes in the network</strong></span><a class="headerlink" href="#id9" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 33%"/>
<col style="width: 67%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Node cartography gruop proportions</p></td>
<td><p>Number of nodes in each node cartography group (see Guimerà &amp; Nunes Amaral, 2005). (1) Peripheral nodes (2) Non-hub connectors (3) Non-hub kinless nodes (4) Provincial hubs (5) Connector hubs (6) Kinless hubs</p></td>
</tr>
<tr class="row-odd"><td><p>Hub score</p></td>
<td><p>Hubs are nodes with high centrality in the network. Nodes are ranked based on: node strength, betweenness centrality, local efficiency, and participation coefficient. Hubs rank in the top 10% of nodes in 3 or 4 of these features. See Schroeter et al., 2015.</p></td>
</tr>
</tbody>
</table></div>
</section>
<section id="node-cartography">
<h3>Node cartography<a class="headerlink" href="#node-cartography" title="Permalink to this headline">#</a></h3>
<p>To our knowledge, this is the first application of node cartography (Guimerà &amp; Nunes Amaral, 2005) to the analysis of brain networks. These cartographic representations enable comparison of nodal roles, assigned according to their intra- and inter-module connectivity, over development and between different networks. These roles are determined to a large extent by two key metrics: within-module degree z-score (z) and participation coefficient (P) (Figure 4.4.2A). Together, these describe connectivity of a node within and outside of its module. Six roles are defined according to the region occupied in the z, P parameter space (Figure 4.4.2B).</p>
</section>
<section id="comparing-across-ages-and-groups">
<h3>Comparing across ages and groups<a class="headerlink" href="#comparing-across-ages-and-groups" title="Permalink to this headline">#</a></h3>
<p>In addition to calculating spiking, bursting and network features at the level of the individual recording and electrodes, the pipeline also facilitates comparison of these features across development (up to 10 age groups) and genotype (or other grouping). These age and groups are determined by the 2nd and 3rd column in the user’s input spreadsheet with the filenames. The plots provided in the output files provide a diagnostic tool for understanding the effect of age and/or genotype (or other grouping) on your data. We recommend running the pipeline first with PNG files produced only for speed.  Once you have selected your final parameters, running with .mat files and/or EPS files allows editable plots for creating figures. The data tables in the output folder can be used to perform statistical analyses (statistical analysis is not currently included in the pipeline).</p>
</section>
</section>
<section id="network-metrics-details">
<h2>Network metrics details<a class="headerlink" href="#network-metrics-details" title="Permalink to this headline">#</a></h2>
<section id="mean-node-degree">
<h3>Mean node degree<a class="headerlink" href="#mean-node-degree" title="Permalink to this headline">#</a></h3>
<p>The code to calculate this is in <code class="docutils literal notranslate"><span class="pre">findNodeDegEdgeWeight.m</span></code>. Referred to in code as <code class="docutils literal notranslate"><span class="pre">ND</span></code></p>
<p>Let <span class="math notranslate nohighlight">\(\mathbf{A} \in \mathbb{R}^{n \times n}\)</span> be the adjacency matrix of the network (we assume including self connections) and let <span class="math notranslate nohighlight">\(\mathbf{I}\)</span> be the identity matrix. Let <span class="math notranslate nohighlight">\(T \in [0, 1]\)</span> be the edge threshold we have chosen. We first remove the self-connections by subtracting the identity matrix</p>
<div class="math-wrapper"><div class="math notranslate nohighlight">
\[\begin{equation}
\mathbf{A}^{(e)} = \mathbf{A} - \mathbf{I}
\end{equation}\]</div></div>
<p>We then use the threshold to create a binarized adjacency matrix <span class="math notranslate nohighlight">\(\mathbf{B}\)</span></p>
<div class="math-wrapper"><div class="math notranslate nohighlight">
\[\begin{split}\begin{equation}
\mathbf{B}_{i, j} \begin{cases}
0 &amp;  \mathbf{B}_{i, j} &lt; T \\
1 &amp;  \mathbf{B}_{i, j} \geq T
\end{cases}
\end{equation}\end{split}\]</div></div>
<p>The mean node degree is the mean of the values in the binarized adjacency matrix</p>
<div class="math-wrapper"><div class="math notranslate nohighlight">
\[\begin{equation}
N_D = \frac{1}{(n \times n)}\sum_{i, j} \mathbf{B}_{i, j}
\end{equation}\]</div></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently this thresholding uses the raw adjancency metric values, which can range
from -1 to 1, so negative weights (correlations) are ignored.</p>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="how-to-contribute.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Contributing to the project</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="system-requirements.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">System Requirements</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Timothy Sit, Rachael Feord, Alexander Dunn, Jeremy Chabros
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Methods for Network Activity Analysis</a><ul>
<li><a class="reference internal" href="#spike-detection">Spike detection</a><ul>
<li><a class="reference internal" href="#spike-detection-methods-in-the-pipeline">Spike detection methods in the pipeline</a></li>
<li><a class="reference internal" href="#future-directions-for-spike-detection-in-pipeline">Future directions for spike detection in pipeline</a></li>
</ul>
</li>
<li><a class="reference internal" href="#comparison-of-neuronal-activity">Comparison of neuronal activity</a><ul>
<li><a class="reference internal" href="#firing-rates">Firing rates</a></li>
<li><a class="reference internal" href="#burst-detection">Burst detection</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inferring-functional-connectivity">Inferring functional connectivity</a><ul>
<li><a class="reference internal" href="#spike-time-tiling-coefficient">Spike time tiling coefficient</a></li>
<li><a class="reference internal" href="#probabilistic-thresholding">Probabilistic thresholding</a></li>
</ul>
</li>
<li><a class="reference internal" href="#comparison-of-network-activity">Comparison of network activity</a><ul>
<li><a class="reference internal" href="#graph-theory-and-other-network-metrics">Graph theory and other network metrics</a></li>
<li><a class="reference internal" href="#node-cartography">Node cartography</a></li>
<li><a class="reference internal" href="#comparing-across-ages-and-groups">Comparing across ages and groups</a></li>
</ul>
</li>
<li><a class="reference internal" href="#network-metrics-details">Network metrics details</a><ul>
<li><a class="reference internal" href="#mean-node-degree">Mean node degree</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>